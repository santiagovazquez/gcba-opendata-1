$(document).ready(function(){

    _.templateSettings = {
        interpolate: /\{\{\=(.+?)\}\}/g,
        evaluate: /\{\{(.+?)\}\}/g
    };

    StatusBar.init();
    Map.init();
    Searchbox.init(Map, function() { return true; });
    NavigationBar.init();

    AutocompleteGcba.init('autocomplete-bsas', function(direction) {
        long = direccion.getCoordenadas().getX();
        lat = direccion.getCoordenadas().getY();

        //$('.current-target b').text(direccion.toString());
    });

//    $('#introduction-modal').modal('show');

    $('html').ajaxError(function(){
        $('#loading').hide();
        $('.navbar-search').show();
        StatusBar.showErrorMessage("Ooops, hubo un error en la comunicación con el servidor. Proba de nuevo más tarde.");
    });
});